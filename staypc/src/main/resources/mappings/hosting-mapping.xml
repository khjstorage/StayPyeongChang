<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="hosting">
    <insert id="insert" parameterType="staypc_lodgeDTO">
        INSERT INTO staypc_lodge (lodge_code, id, title, room_name, location, enter_time, out_time, check_in, check_out, charge, room_phone, max_people, room_type,
                                    bulid_type, room_num, bed_num, bed_type, convenient, secure, room_explain,  refund_provision, reg_date,  update_date)
        VALUES ( (SELECT ( Nvl(Max(lodge_code), 0) + 1 )  FROM  staypc_lodge), 'khjzzm', #{title}, #{room_Name}, #{location}, #{enter_Time}, #{out_Time}, #{check_In},
                  #{check_Out},  #{charge}, #{room_Phone}, #{max_People}, #{room_Type},#{bulid_Type},#{room_Num},#{bed_Num},#{bed_Type}, #{convenient},#{secure},#{room_Explain}, #{refund_Provision}, SYSDATE, SYSDATE )
    </insert>


    <insert id="insert_image">
      INSERT INTO staypc_lodge_image (Image_code, lodge_code, fileName) VALUES (
      (SELECT ( Nvl(Max(Image_code), 0) + 1 )  FROM  staypc_lodge_image),
      (SELECT ( Nvl(Max(lodge_code), 0) + 1 )  FROM  staypc_lodge),
      #{fileName}
      )
    </insert>

</mapper>
